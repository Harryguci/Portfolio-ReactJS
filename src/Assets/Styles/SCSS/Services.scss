@use "base";

.services-container {
  // Title initial state
  .services-title {
    opacity: 0;
    transform: translateY(-30px) scale(0.95);
    transition: all 0.8s cubic-bezier(0.68, -0.55, 0.265, 1.55);
  }

  // Service boxes initial state
  .service-box {
    opacity: 0;
    transform: perspective(1000px) rotateY(-15deg) translateY(50px);
    transition: all 0.7s cubic-bezier(0.34, 1.56, 0.64, 1);
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.05) 0%, rgba(255, 255, 255, 0.02) 100%);
    border-radius: 15px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    position: relative;
    overflow: hidden;
    height: 100%;
    display: flex;
    flex-direction: column;

    // Shimmer effect overlay
    &::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(
        45deg,
        transparent 30%,
        rgba(255, 255, 255, 0.1) 50%,
        transparent 70%
      );
      transform: translateX(-100%) translateY(-100%) rotate(45deg);
      transition: transform 0.6s ease-out;
    }

    img {
      transition: transform 0.4s ease-out;
    }

    h2 {
      transition: color 0.3s ease;
    }

    p {
      flex: 1;
      margin-bottom: 0;
    }

    // Hover effects
    &:hover {
      transform: perspective(1000px) rotateY(0deg) translateY(-10px) scale(1.02);
      border-color: rgba(base.$light-blue, 0.4);
      box-shadow: 0 15px 40px rgba(base.$light-blue, 0.2);

      &::before {
        transform: translateX(100%) translateY(100%) rotate(45deg);
      }

      img {
        transform: scale(1.1) rotate(5deg);
      }

      h2 {
        color: base.$light-blue;
      }
    }
  }

  // Animated state
  &.animate-in {
    .services-title {
      opacity: 1;
      transform: translateY(0) scale(1);
      animation: titleBounce 1s cubic-bezier(0.68, -0.55, 0.265, 1.55) forwards;
    }

    .service-box {
      opacity: 1;
      transform: perspective(1000px) rotateY(0deg) translateY(0);
      animation: flipIn 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;

      // Stagger each service box
      &:nth-child(1) {
        animation-delay: 0.1s;
      }

      &:nth-child(2) {
        animation-delay: 0.25s;
      }

      &:nth-child(3) {
        animation-delay: 0.4s;
      }

      &:nth-child(4) {
        animation-delay: 0.55s;
      }
    }
  }
}

// Keyframe animations
@keyframes titleBounce {
  0% {
    opacity: 0;
    transform: translateY(-30px) scale(0.95);
  }
  60% {
    opacity: 1;
    transform: translateY(10px) scale(1.02);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@keyframes flipIn {
  0% {
    opacity: 0;
    transform: perspective(1000px) rotateY(-90deg) translateY(50px) scale(0.8);
  }
  50% {
    opacity: 0.5;
    transform: perspective(1000px) rotateY(-45deg) translateY(25px) scale(0.9);
  }
  100% {
    opacity: 1;
    transform: perspective(1000px) rotateY(0deg) translateY(0) scale(1);
  }
}

// Responsive adjustments
@media (max-width: 768px) {
  .services-container {
    .service-box {
      transform: perspective(800px) rotateY(-10deg) translateY(30px);

      &:hover {
        transform: perspective(800px) rotateY(0deg) translateY(-5px) scale(1.01);
      }
    }

    &.animate-in {
      .service-box {
        animation: flipInMobile 0.7s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
      }
    }
  }

  @keyframes flipInMobile {
    0% {
      opacity: 0;
      transform: perspective(800px) rotateY(-60deg) translateY(30px) scale(0.9);
    }
    100% {
      opacity: 1;
      transform: perspective(800px) rotateY(0deg) translateY(0) scale(1);
    }
  }
}
